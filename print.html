<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Storytell guide</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="Language/index.html"><strong aria-hidden="true">2.</strong> Language</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Language/paths.html"><strong aria-hidden="true">2.1.</strong> Paths</a></li><li class="chapter-item expanded "><a href="Language/choices.html"><strong aria-hidden="true">2.2.</strong> Choices</a></li><li class="chapter-item expanded "><a href="Language/State/index.html"><strong aria-hidden="true">2.3.</strong> State</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Language/State/data.html"><strong aria-hidden="true">2.3.1.</strong> Data</a></li><li class="chapter-item expanded "><a href="Language/State/conditions.html"><strong aria-hidden="true">2.3.2.</strong> Conditions</a></li></ol></li><li class="chapter-item expanded "><a href="Language/labels.html"><strong aria-hidden="true">2.4.</strong> Labels</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Storytell guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="storytell"><a class="header" href="#storytell">Storytell</a></h1>
<p>Storytell is a text editor which allows you to write interactive fiction - from scripts with simple choices to massive stories with many branching storylines and endings. It also allows you to <strong>play</strong> your story as you write it, and view how your stories branches. Create scripts for games and other interactive media with ease!</p>
<p>This app takes huge inspiration from the <a href="https://www.inklestudios.com/ink/">inky</a> language and editor. It tries to make the writing process a lot simpler and easier, with less special characters to remember, while still providing all the power inky has.</p>
<p>It also provides you with useful tools and features which inky is missing, such as:</p>
<ul>
<li>A branch viewer which allows you to view where each path leads you.</li>
<li>Embeddable javascript to bring your scripts to life.</li>
<li>A way to export your games to HTML so other people can read your interactive script.</li>
<li>Useful statistics such as permutations, dead ends, most common paths, path diversity,etc.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-language"><a class="header" href="#the-language">The Language</a></h1>
<p>Storytell comes with a simple markup language which is very similar to <a href="https://www.markdownguide.org/">markdown</a>. However, some features have been repurposed, some have been removed, and additional syntax has been added. If you're not familiar with markdown, I highly recommend going over the <a href="https://www.markdownguide.org/basic-syntax/">basic sytnax</a>. </p>
<p>Here are the major differences:</p>
<div class="table-wrapper"><table><thead><tr><th>Markdown</th><th>Storytell</th></tr></thead><tbody>
<tr><td>Headers (<code>#</code> and <code>##</code>)</td><td>Path start</td></tr>
<tr><td>Lists (<code>- value</code>)</td><td>Choices</td></tr>
<tr><td>Code blocks</td><td>Javascript code evaluation</td></tr>
</tbody></table>
</div>
<p>And here is everything storytell adds:</p>
<div class="table-wrapper"><table><thead><tr><th>Symbol</th><th>Inline</th><th>Purpose</th></tr></thead><tbody>
<tr><td><code>-&gt;</code></td><td>yes</td><td>Diverting the reader to another part.</td></tr>
<tr><td><code>&lt;-&gt;</code></td><td>yes</td><td>Diverting the reader to another part, and returning to the current path after the diverted path is finished.</td></tr>
<tr><td><code>{ ... }</code></td><td>yes</td><td>Inline javascript code, which cannot contain curly brackets.</td></tr>
<tr><td><code>\</code></td><td>yes</td><td>Ecapes a symbol.</td></tr>
<tr><td><code>#[...]</code></td><td>no</td><td>Attributes - changes the settings of other symbols.</td></tr>
<tr><td><code>@{ ... }</code></td><td>no</td><td>Match a value without using javascript</td></tr>
<tr><td><code>// ...</code></td><td>no</td><td>A piece of text which is meant for the author(s), it won't be displayed to the reader</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="paths"><a class="header" href="#paths">Paths</a></h1>
<p>The main construct of the language are <strong>paths</strong> - they're like different sections of your story which can play out differently, depending on the choices the reader makes. Each story starts at a path and ends at another. Paths contain children called <strong>blocks</strong> which do different things - one kind of block for example is the paragraph, which just shows text to the reader. Each path can also have other paths as children, which can be used for different versions or different sections of the path.</p>
<p>Here is an example:</p>
<pre><code class="language-md"># Chapter 1, Part 2

This is a paragraph, and it's shown when the reader arrives at this path. You **can** *use*  __markdown__ to style your text.

// This is a comment, the arrow below will divert the reader to the &quot;Diversion 1&quot; path, which is a children of this path
-&gt; diversion_1

## Diversion 1

This is a diversion from the main path. The reader can come here from anywhere, inclduding from the main path.
</code></pre>
<h2 id="diversions"><a class="header" href="#diversions">Diversions</a></h2>
<p>Paths can divert you to other paths with the <code>-&gt;</code> syntax. The path transfers the control flow to another path. The reader never returns to this path unless another path specifically diverts the reader to it.</p>
<p>A path is considered to &quot;end&quot; when:</p>
<ul>
<li>It diverts to the <code>end</code> path.</li>
<li>There's no more content to be shown.</li>
</ul>
<h3 id="diverting-to-children-paths"><a class="header" href="#diverting-to-children-paths">Diverting to children paths</a></h3>
<p>Main paths (Those which are created with the <code>#</code> symbol) have to be unique - there can't be multiple paths with the same name, however, path children can!</p>
<p>A path can divert to it's children directly:</p>
<pre><code class="language-md"># Main Path

## Child 1

// Works!
-&gt; child_of_child

### Child of child

## Child 2
</code></pre>
<p>However, if the path you want to divert to is not a <strong>direct</strong> child of the current path, you have to use the <strong>access</strong> syntax to reach it:</p>
<pre><code class="language-md"># Main Path

## Child 1

// Doesn't work
-&gt; child_2

// Works!
-&gt; main_path.child_2

### Child of child

## Child 2
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="choices"><a class="header" href="#choices">Choices</a></h1>
<p><strong>Choices</strong> are what the reader makes in order to end up in different <strong>paths</strong>:</p>
<pre><code class="language-md"># Graveyard

James and Alicia arrive at the graveyard. Where should they investigate first?

- Left -&gt; graveyard_left
- Right -&gt; graveyard_right

## Graveyard Left

James and Alicia decided to investigate the left area of the graveyard first. They found nothing useful.

## Graveyard Right

James and Alicia found an open grave!
</code></pre>
<p>The above example uses a <strong>choice group</strong> to ask the reader on what to do. Only one option can be chosen. After a choice has been made, the choice isn't getting saved anywhere - so if another path takes the reader to the same choice, the reader will be given the same options.</p>
<p>If the reader chooses <code>Left</code>, they'll divert to the <code>Graveyard Left</code> path, and if they choose <code>Right</code>, they'll divert to the <code>Graveyard Right</code> path, and afterwards the story will end. </p>
<h2 id="inline-responses"><a class="header" href="#inline-responses">Inline responses</a></h2>
<p>A choice doesn't always have to lead to a new path - in the example above, the two different paths are excessive - we can put the text right below the option:</p>
<pre><code class="language-md">- Left
    James and Alicia decided to investigate the left area of the graveyard first. They found nothing useful.
- Right
    James and Alicia found an open grave!
</code></pre>
<p>The text below can contain anything - even more choices, but <strong>it has to be on a new line and have at least 4 whitespaces at the start of the new line, depending on how nested the choices are</strong>. </p>
<p>Here's what it would look like with nested choices:</p>
<pre><code class="language-md">- Left
    James and Alicia decided to investigate the left area of the graveyard first. They found nothing useful.
- Right
    James and Alicia found an open grave!
    - Take a peek
        They looked inside the grave, and saw the unthinkable.
    - Move on
        Too afraid to look what's inside the grave, they moved on.
</code></pre>
<h2 id="labeling-choices-and-choice-groups"><a class="header" href="#labeling-choices-and-choice-groups">Labeling choices and choice groups</a></h2>
<p>Just how you can divert to paths, you can also divert to specific choices and choice groups. You can give them a <strong>label</strong> via attributes. Then, you can use the divert syntax (<code>-&gt;</code>) to go to that specific choice group or choice.</p>
<p>If you divert to a choice, the content below the choice will be shown. If you divert to a choice group, the reader will have to make the choice. After the divert, the flow goes back to the content <strong>after</strong> the divert, <strong>not</strong> after the choice.</p>
<pre><code class="language-md">What's 2 + 2?

#[Label(MyChoice)]
- #[Label(Choice1)] 4
    That's correct.
- #[Label(Choice2)] 5
    That's incorrect. Let's try again.
    -&gt; MyChoice
</code></pre>
<p>You can also check how many times a labeled choice got selected in inline JS and do stuff based on that:</p>
<pre><code class="language-md">Welcome back! ++

@{!!label_count(&quot;Choice1&quot;)}
- {true}
    You got the right answer! Congrats!
- {false}
    You did not get the right answer. Let's try again.
    -&gt; MyChoice
</code></pre>
<h2 id="option-attributes"><a class="header" href="#option-attributes">Option attributes</a></h2>
<p><strong>Attributes</strong> can change how an option or an option group behaves.</p>
<h3 id="once"><a class="header" href="#once">once</a></h3>
<p>You can prefix a choice with the <code>once</code> attribute, so if the reader ever encounters the same choice group, they can't make the same choice twice:</p>
<pre><code class="language-md">- #[once] Left
    You chose the left path. You will now be brought back to the same choice.
    -&gt; BACK
- Right
    You went right!
    -&gt; END
</code></pre>
<p>In the example above, if the reader chooses <code>Left</code>, they will see the text below it, and go back to the choice (because of the special <code>BACK</code> path), except this time they won't have the <code>Left</code> choice anymore, only <code>Right</code>.</p>
<h3 id="exaust"><a class="header" href="#exaust">exaust</a></h3>
<p>You can add the <code>exaust</code> attribute to a choice group. After a choice is made, the reader will be brought back to the choice group, until all of the choices are selected, or until one of the choices takes the reader to another path.</p>
<pre><code class="language-md">#[exaust]
- Left
    You went left!
- Right
    You went right!
- Exit graveyard
    You exited the graveyard.
    -&gt; END
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state"><a class="header" href="#state">State</a></h1>
<p>Some choices don't have consequences which change the entire course of the story - they could just change dialogue options, interactions between characters, or possibly what happens in a certain path. </p>
<p>Storytell allows you to save data via a powerful scripting language called <code>InlineJs</code>, which is almost exactly the same as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a>. You <strong>do not</strong> need to know JavaScript in order to use this feature, storing data is super simple!</p>
<h2 id="inline-usage"><a class="header" href="#inline-usage">Inline usage</a></h2>
<p>This scripting language can only be used <strong>inline</strong>, by placing it between curly brackets (<code>{}</code>). Everything in the language evaluates to a value which will show up in your story, except for <strong>variable assignments</strong>, which completely dissapear.</p>
<pre><code>- Action A
    {chosen_action = &quot;A&quot;}
- Action B
    {chosen_action = &quot;B&quot;}

You chose {chosen_action}.
</code></pre>
<p>will show up as...</p>
<pre><code>- Action A
- Action B
[Chooses A]
You chose A.
</code></pre>
<p>In the above example, we save the string <code>&quot;A&quot;</code> to the <code>chosen_action</code> variable if the reader chooses the <code>Action A</code> option, and if they choose the <code>Action B</code> option, <code>chosen_action</code> gets set to <code>&quot;B&quot;</code>. Afterwards, we show which option the user chose by displaying the contents of the variable.</p>
<h2 id="block-javascript"><a class="header" href="#block-javascript">Block JavaScript</a></h2>
<p>You can also use regular JavaScript with code blocks, although it should be used only where you can't achieve something with InlineJs, which should be rare.</p>
<p>By default, block JavaScript will never embed anything into your story, unless you make it so by using the <code>return</code> keyword, or the <code>document</code> API to modify the DOM.</p>
<pre><code>```js
const yourName = prompt(&quot;What's your name?&quot;);
return `Hello, ${yourName}`;
```
</code></pre>
<p>Will embed:</p>
<pre><code>Hello GoogleFeud!
</code></pre>
<h2 id="differences-between-inlinejs-and-javascript"><a class="header" href="#differences-between-inlinejs-and-javascript">Differences between InlineJS and JavaScript</a></h2>
<ul>
<li>Since InlineJS needs to be wrapped between curly brackets (<code>{}</code>), object literals are not part of the language.</li>
<li>Function expressions (<code>function() {}</code> and <code>() =&gt; {}</code>) don't exist in InlineJS.</li>
<li>In string template literals, inserting literals happens with <code>$()</code>, not <code>${}</code>.</li>
<li>Bitwise operators aren't supported.</li>
<li>BigInt literals aren't supported.</li>
<li>Regex literals aren't supported.</li>
<li>Expression list expressions (<code>(exp, exp, exp)</code>) aren't supported.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data"><a class="header" href="#data">Data</a></h1>
<p>Your state is <strong>data</strong> that is stored in <strong>variables</strong>. Every data has a <strong>type</strong>. For example, <code>&quot;String&quot;</code> is a <code>string</code> type, <code>123</code> is a <code>number</code> type, etc. There are also types which can hold multiple different types, for example the <code>array</code> type can contain <code>number</code>s, <code>string</code>s, or maybe even other <code>array</code>s.</p>
<h2 id="initializing-variables"><a class="header" href="#initializing-variables">Initializing variables</a></h2>
<p>Variables get initialized automatically depending on how you use them.</p>
<div class="table-wrapper"><table><thead><tr><th>Code</th><th>Initializes to</th></tr></thead><tbody>
<tr><td><code>variable += 1</code>, <code>variable -= 1</code>, <code>variable *= 1</code>, <code>variable /= 1</code></td><td><code>variable</code> is a number, and gets initialized as <code>0</code>. <br><code>+=</code> - Adds a number to the variable.<br><code>-=</code> - Subtracts a number from the variable.<br><code>*=</code> - Multiplies the variable by the number.<br> <code>/=</code> - Divides the variable by the number.</td></tr>
<tr><td><code>variable++</code>, <code>variable--</code></td><td><code>variable</code> is a number, and gets initialized as <code>0</code>.<br><code>++</code> - Increments the variable.<br><code>--</code> - Decrements the variable.</td></tr>
<tr><td><code>variable += &quot;Hello&quot;</code></td><td><code>variable</code> is a string, and gets initialized as <code>&quot;&quot;</code>.<br><code>+=</code> - Appends a string to the variable.</td></tr>
<tr><td><code>variable.push(value)</code></td><td><code>variable</code> is a list (array) and gets initialized as <code>[]</code>.<br><code>.push(value)</code> pushes the value to the list. The value can be anything. You can also provide multiple values - <code>.push(&quot;Hello&quot;, 123, true, [])</code></td></tr>
<tr><td><code>variable.key = value</code></td><td><code>variable</code> is a table (object) and gets initialized as <code>{}</code>.<br><code>.key = value</code> adds a new key-value pair to the table. For example, <code>variable.name = &quot;Google&quot;</code> is going to set the <code>name</code> key to <code>&quot;Google&quot;</code>. You can retrive the value inside the key with <code>variable.name</code>.</td></tr>
</tbody></table>
</div>
<p>Here's an example of using a list:</p>
<pre><code>- Kill Ashley
    {killed.push(&quot;Ashley&quot;)}
    You killed Ashley.
- Kill Nick
    {killed.push(&quot;Nick&quot;)}
    You killed Nick.
</code></pre>
<h2 id="variables-under-the-hood"><a class="header" href="#variables-under-the-hood">Variables under the hood</a></h2>
<p>Variables which are used in InlineJS are sort of magic - you don't need to declare them, storytell can automatically detect what the variable is by how you use it and it automatically intialize it. You can use these magic variables in code blocks too, but <strong>you cannot use variables defined in code blocks in inline javascript</strong>. If you'd like to bypass this, you can attach the variable to the <strong>window</strong> object:</p>
<pre><code>```js
window.value = 123;
```

{window.value}
</code></pre>
<p>Even object keys get initialized, so for example doing:</p>
<pre><code>{object.amount += 2}

{object.amount}
</code></pre>
<p>is going to display <code>2</code> to the reader!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conditions"><a class="header" href="#conditions">Conditions</a></h1>
<p>You can show text conditionally in two ways:</p>
<h2 id="javascript"><a class="header" href="#javascript">Javascript</a></h2>
<p>You can use javascript's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">ternary operator</a>:</p>
<pre><code>{variable === 42 ? &quot;You have found the answer!&quot; : &quot;Wrong answer!&quot;}
{!killed.includes(&quot;Nick&quot;) &amp;&amp; &quot;Nick: Wow, this place is a shithole&quot;}
</code></pre>
<p>This is okay for simple text like the one above, but if you want to go to a different path or let the reader make a choice, this won't do.</p>
<h2 id="match-syntax"><a class="header" href="#match-syntax">Match syntax</a></h2>
<p>Storytell includes simple syntax which allows you to compare variables and do different things depening on the value:</p>
<pre><code>@{variable}
- {42}
    You have found the answer!
- {}
    Wrong answer!

@{killed.includes(&quot;Nick&quot;)}
- {true}
    Nick: Wow, this place is a mess. What are we going to do here?
    - We need to find the treasure...
        Nick: I don't think such a treasure could be hidden in a such a hideous place...
    - Shut up Nick.
        ...
</code></pre>
<h3 id="if-and-not"><a class="header" href="#if-and-not">:if and :not</a></h3>
<p>The second example with the match syntax takes too much space for something so simple. We can shorten it with <code>:not</code> inside the curly brackets:</p>
<pre><code>@{:not killed.includes(&quot;Nick&quot;)}
    Nick: Wow, this place is a mess. What are we going to do here?
    - We need to find the treasure...
        Nick: I don't think such a treasure could be hidden in a such a hideous place...
    - Shut up Nick.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="labels"><a class="header" href="#labels">Labels</a></h1>
<p>Almost all blocks in storytell (paragraphs, choices, choice groups, match, javascript block) can be labeled. Just how you can divert to paths, you can also divert to specific blocks. You can give them a <strong>label</strong> via attributes. Then, you can use the divert syntax (<code>-&gt;</code>) to go to that specific block.</p>
<pre><code class="language-md">
#[Label(TheParagraph)]
This is a paragraph, it's label is &quot;TheParagraph&quot;.

// Diverting to the paragraph will show it again!
-&gt; TheParagraph

You saw the paragraph twice!
</code></pre>
<p>After the divert, the flow goes back to the content <strong>after</strong> the divert, <strong>not</strong> after the block. So, in the above example, the reader will see the labeled paragraph twice, and then they'll see <code>You saw the paragraph twice!</code>.</p>
<ul>
<li>If you divert to a <code>paragraph</code>, the paragraph will be shown.</li>
<li>If you divert to a <code>choice group</code>, the reader will be made to make the choice again.</li>
<li>If you divert to a <code>single choice</code>, the choice's children will be shown, as if the choice was picked by the reader.</li>
<li>If you divert to a <code>match</code>, the condition will be matched again.</li>
<li>If you divert to a <code>javascript block</code>, the code will be executed.</li>
</ul>
<h2 id="using-labels-in-inlinejs"><a class="header" href="#using-labels-in-inlinejs">Using labels in InlineJs</a></h2>
<p>Labeling blocks has another advantage - you'll be able to gather information you can use in your story. You don't need to use variables to check which choice has been chosen - you can put a label on it and call the <code>count</code> function to see how many times it's children have been shown to the reader. Generally, you should only do this for minor branching in the dialogue.</p>
<pre><code class="language-md">What's 2 + 2?

#[Label(MyChoice)]
- #[Label(Choice1)] 4
    That's correct.
- #[Label(Choice2)] 5
    That's incorrect.

// Later on...
Oh yeah, I found out ++

@{!!count(&quot;Choice1&quot;)}
- {true}
    you got the answer! Nice.
- {false}
    you couldn't get the answer... That's a bummer. Maybe you can try again?
    -&gt; MyChoice
</code></pre>
<h2 id="label-scopes"><a class="header" href="#label-scopes">Label scopes</a></h2>
<p>By default, labels can only be diverted to if they are in the same (or parent) path as the divertion itself. You have to specify a <strong>scope</strong> if you want to divert to labels outside of the current path. The scope can be either <code>global</code>, <code>local</code>, or a number which specifies how many levels above the current path the label can be accessed. The default value is <code>local</code>.</p>
<p>Scopes are needed because label names are <strong>unique</strong>.</p>
<pre><code class="language-md"># Main path

// Doesn't work, first_para is in &quot;Second Path&quot;
-&gt; first_para

// Works!
-&gt; second_para

// Works!
-&gt; third_para

## Second Path

#[Label(First Para)]
This is a labeled paragraph.

// Puts the label in the global context
#[Label(Second Para, global)]
This is the second paragraph.

// Puts the label in the &quot;Main path&quot;
#[Label(Third Para, 1)]
This is the third paragraph.

### Nested Path

// Works! All 3 work!
-&gt; first_para

## Third Path

// Doesn't work
-&gt; first_para 
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
